/*!
 * angular-conditional-validation
 * @version v0.1.2
 * @link https://github.com/dscheerens/angular-conditional-validation
 * @license MIT
 */
!function(r,n){"function"==typeof define&&define.amd?define(["angular"],n):"object"==typeof exports?module.exports=n(require("angular")):r.angularConditionalValidation=n(r.angular)}(this,function(r){var n=r.module("angularConditionalValidation",["ng"]).directive("enableValidation",["$parse","$q",function(n,a){return{restrict:"A",require:"ngModel",link:function(e,t,i,o){function u(r){var n=Object.keys(r.validators).reduce(function(n,a){if(r.isWrapped[a])return n;var e=r.wrapper,t=d(a),i=r.validators[a];return r.validators[a]=e(i,t),r.isWrapped[a]=!0,!0},!1),a=Object.keys(r.isWrapped).reduce(function(n,a){return!r.isWrapped[a]||r.validators[a]?n:(r.isWrapped[a]=!1,!0)},!1);return n||a}function d(n){return function(){var a=c(s);return r.isObject(a)?a.hasOwnProperty(n)?!!c(a[n]):a.hasOwnProperty("*")?!!c(a["*"]):!0:!!a}}function c(n){return r.isFunction(n)?n():n}function l(r){return function(n,a){return function(e,t){return a()?n(e,t):r}}}var s=n(i.enableValidation)(e),p=[{validators:o.$validators,wrapper:l(!0),isWrapped:{}},{validators:o.$asyncValidators,wrapper:l(a.resolve(!0)),isWrapped:{}}];e.$watch(i.enableValidation,function(r){s=r,o.$validate()},!0),e.$watch(function(){var r=p.reduce(function(r,n){return u(n)||r},!1);r&&o.$validate()})}}}]);return n});